version: "3"

services:
  web-server:
    build: ./www
    depends_on:
      - api-server
    ports:
      - "80:80"
  api-server:
    build: ./api
    depends_on:
      - db-server
  web-crawler:
    build: ./crawler
    depends_on:
      - api-server
    env_file:
      - ./crawler/crawler.env
  db-server:
    build: ./database
    env_file:
      - ./database/db.env
